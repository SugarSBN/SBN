---
layout: post
title: 2018-12-22 [SDOI2012]任务安排

date: 2018-12-22
categories: blog
tags: [SDOI,2012]
description: BZOJ2726
---

---------------------

# Description

机器上有N个需要处理的任务，它们构成了一个序列。
这些任务被标号为1到N，因此序列的排列为1,2,3...N。
这N个任务被分成若干批，每批包含相邻的若干任务。
从时刻0开始，这些任务被分批加工，第i个任务单独完成所需的时间是Ti。
在每批任务开始前，机器需要启动时间S，而完成这批任务所需的时间是各个任务需要时间的总和。
注意，同一批任务将在同一时刻完成。每个任务的费用是它的完成时刻乘以一个费用系数Fi。
请确定一个分组方案，使得总费用最小。

# input

第一行两个整数，N,S。
接下来N行每行两个整数，Ti,Fi。
N <= 300000
 

# output

 一个整数，为所求的答案。

# Sample input

5 1

1 3

3 2

4 3

2 3

1 4

# Sample output

153

---------------------------------------------------------------------------------------------------------

# Answer

这个题非常有代表性了于是我自己想了很久

~~然后斜率优化被时间是负数卡了很久，佩服出题人可以把时间出成负数~~

首先把F和T倒过来读，然后求个前缀和

于是就写出了原始dp方程

<a href="https://www.codecogs.com/eqnedit.php?latex=dp[i]&space;=&space;min\left&space;\{&space;dp[j]&space;&plus;&space;F[i]&space;*&space;\left&space;(&space;s&space;&plus;&space;T[i]-T[j]&space;\right&space;)\right&space;\}" target="_blank"><img src="https://latex.codecogs.com/gif.latex?dp[i]&space;=&space;min\left&space;\{&space;dp[j]&space;&plus;&space;F[i]&space;*&space;\left&space;(&space;s&space;&plus;&space;T[i]-T[j]&space;\right&space;)\right&space;\}" title="dp[i] = min\left \{ dp[j] + F[i] * \left ( s + T[i]-T[j] \right )\right \}" /></a>