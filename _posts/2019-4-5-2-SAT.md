---
layout: post
title: 2019-4-5 2-SAT

date: 2019-4-5
categories: blog
tags: [,]
description: 
---

---------------------

```c++
void dfs(int u,int id){
	vis[u] = 1;
	if (id == 0)	scc[u] = num_of_scc;
	for (int i = head[u][id];i;i = E[i][id].nxt)	if (!vis[E[i][id].y])	dfs(E[i][id].y,id);
	if (id == 1)	idx[++ct] = u;
}
int n,m;
void Find_scc(){
	ct = num_of_scc = 0;
	For(i,1,id(n,1) + 1)	if (!vis[i])	dfs(i,1);
	memset(vis,0,sizeof(vis)); 
	for (int i = ct;i >= 1;i--)	if (!vis[idx[i]]){
		num_of_scc++;
		dfs(idx[i],0);
	}
}
while(m--){
		int i,a,j,b;scanf("%d%d%d%d",&i,&a,&j,&b);
		link(id(i,a ^ 1),id(j,b));
		link(id(j,b ^ 1),id(i,a));
	}
	Find_scc();
	For(i,1,n + 1)	if (scc[id(i,0)] == scc[id(i,1)]){
		puts("IMPOSSIBLE");
		return 0;
}
puts("POSSIBLE");
For(i,1,n + 1)	printf("%d%c",scc[id(i,1)] < scc[id(i,0)],i == n ? '\n' :' ');
```