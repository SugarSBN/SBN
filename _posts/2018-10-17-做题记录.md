---
layout: post
title: 2018-10-17 做题记录

date: 2018-10-13
categories: blog
tags: [NOIP,数学]
description: 训练指南
---

---------------------

NOIP2018 Day -25

好吓人只剩下不到一个月了

昨天感冒了没有做题心慌慌今天多做几道题（shui）目（ti）吧

发现自己还有近150道题想做（手动绝望）

# UVA 11636 UVA11039 UVALIVE 3213 UVALIVE3602 UVA10970

都是简单题，第一章练习题（鬼知道为什么我非常虚NOIPT1）并且UVALIVE3213古老的密码
好像在某校模拟题做到过。。。。。。。
需要注意的就是存在一个置换的充要条件就是计数后排序序列完全相同

# UVA11461

大致题意：求[a,b]中的完全平方数
题解：前缀统计

# UVA11038
大致题意：把[a,b]中所有的数写出来，要写多少个0
题解：数位DP，或者说搜一下就搜出来了///

## UVA 10883
大致题意：n个数不断两两取平均数，变成n-1，n-2，n-3.....个，求最后剩下的数
题解：有点杨辉三角的感觉。不难发现不断缩小是个倒三角过程，然后
ans = sigma(C(i,n - 1) * a[i]) / 2^(n - 1)
然后然后然后这都不是重点
重点在于n是1e5怎么搞这个鬼畜的式子。。。。感觉数字巨大根本存不下来
于是我从网上发现了一个超级nb的方法
就是取对数。。。。。。这样可以把乘除运算变成加减。。。并且不会爆int（double）
这样sigma(C(i,n - 1) * a[i])这个很可能爆LL的式子就可以解决问题了
然后式子变成sigma(C(i,n - 1) * a[i] / 2^(n - 1))
log(C(i,n - 1)) = log(C(i - 1,n - 1)) + log(n - i) - log(i)
所以ans = sigma(10 ^ (log(C(i,n - 1)) + log(a[i]) - log(2 ^ (n - 1))))
然后惊讶的发现a[i]小于0不好搞唉
所以就要把a[i]小于0则把sigma的 += 变成-=。。。没有问题
就搞好了
 
## UVA3720
大致题意：给出n * m 的点阵，求点点连线的不在一条直线上的线段有多少种
题解：WJC大佬说枚举斜率然后染个色就O(n^4)了
这题我开始是不会做的。。。。。。（哇NOIPT1不保。。。。。。）
然后发现一个nb的结论：点(i,j)向点阵[1..i][1..j]连线不同的斜率个数就是
（x,y）的对数，满足(1 <= x && x <= i) && (1 <= y && y <= j) && (GCD(i,j) == 1)
（这个可以莫比乌斯反演，但没必要）
然后渐渐发现
计算(n * i,n * j)时会和(i,j)重复。。。
然后就出现了一个极其巧妙的推理
矩阵[1..i][1..j]重复计算的贡献就是[1..i/2][1..j/2]的贡献
哇好有道理
主要要乘以2答案，（i，j到[1..i][1..j]和i,j到[1..i][j..m]）

## UVALive 3295
大致题意：给出n*m的点阵，求有多少个格点三角形
题解：第一眼又不会做！（心态已崩）
是个神题。反向思考可以统计三点共线的组数
然后点(i,j)加入时，(i,j)到(0,0)线段上点的个数有(gcd(i,j) + 1)个然后在这条线段上
选一个异于（0,0）(i,j)的点，有gcd(i,j) + 1 - 2个，所以这就是贡献
gcd(i,j) - 1
然后就很好做了。。。可做了

# UVALive 5836
大致题意：n个点两两连线并染两种颜色，求单色三角形种类数
题解：挺好做的一个题，不难发现三角形只有单色和不是单色两种，设单色的有x个，不是单色的有y个
第一个方程是x + y = C(3,n)
然后对于每一个点，cnt1表示它连出来颜色为1的边数，cnt2就是颜色为2的边数
然后以这个点为顶点的单色三角形数 = C(2,cnt1) + C(2,cnt2) - 以这个顶点的非单色三角形数
然后把所有点求个和
发现单色三角形被统计了3次，而非单色三角形却没有。（这个很好想，如果想不出来画个图）
所以3 * x + y = sigma(C(2,cnt1) + C(2,cnt2))
然后就解x就好了 










